<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test Game</title>
</head>
<body>
<video id="basic-stream" class="videostream" autoplay=""></video>
</body>
<script>
  // Detect browser compatibility
  var hasGetUserMedia = function(){
    return !!(navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia);
  }

  if(hasGetUserMedia()){
    alert('good to go!');
    //specify a url to grab data from
    window.URL = window.URL || window.webkitURL;
    navigator.getUserMedia  = navigator.getUserMedia ||navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;

    //provide fallbacks
    var fallback = function(e){
      console.log('falling back...')
    }

    //specify what context the stream will come from
    var video = document.querySelector('video');
    //pass in what options you want
    navigator.getUserMedia({video: true, audio: true}, function(stream){
        console.log('success!');
        console.log('streams of data: ' , stream);
        video.src = window.URL.createObjectURL(stream);
    });
  } else {
    alert('please use a better browser for the full experience!');
    fallback();
  }
</script>
</html>